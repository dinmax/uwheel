/*! uw - v0.0.7 - 2015-02-09 */module.exports=new function(){var a=require("q"),b=require("string");this.replaceAll=function(a,c,d){return b(a).replaceAll(c,d).s},this.wget=function(b,c){var d=require("http"),e=require("fs"),f=a.defer(),g=e.createWriteStream(c),h=d.get(b,function(a){a.pipe(g)});return g.on("finish",function(){g.close(),f.resolve()}),h.on("error",function(a){f.reject(a)}),f.promise},this.copyFileSync=function(a,b){var c,d,e,f,g,h,i=require("fs");for(c=65536,d=new Buffer(c),f=i.openSync(a,"r"),g=i.openSync(b,"w"),e=1,h=0;e>0;)e=i.readSync(f,d,0,c,h),i.writeSync(g,d,0,e),h+=e;return i.closeSync(f),i.closeSync(g)},this.wgetS=function(b,c){var d=require("https"),e=require("fs"),f=a.defer(),g=e.createWriteStream(c),h=d.get(b,function(a){a.pipe(g)});return g.on("finish",function(){g.close(),f.resolve()}),h.on("error",function(a){f.reject(a)}),f.promise},this.parseCSV=function(a,b,c){var d=require("ya-csv"),e=d.createCsvFileReader(a,{columnsFromHeader:!0});e.addListener("data",function(a){b(a)}),c&&e.addListener("end",c)}};