/*! uwheel - v0.0.5 - 2015-02-09 */module.exports=new function(){var a=uw.config,b=require("q"),c=require("pg"),d=require("util").format("postgres://%s:%s@%s/%s",a.database.user,a.database.password,a.database.ip,a.database.database),e=this;this.connect=function(){var a=b.defer();return c.connect(d,function(b,c,d){b?a.reject(b):(c.release=d,a.resolve(c))}),a.promise},this.query=function(a,c,d){return e.connect().then(function(e){var f=b.defer();return e.query(a,c,function(a,b){d?b.release=e.release:e.release(),a?f.reject(a):f.resolve(b)}),f.promise})["catch"](function(a){console.log(a)})}};